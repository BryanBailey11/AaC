---
# root is a special case representing the root of the architecture model and 
# not explicitly included in a model file
data:
  name: root
  fields:
    - name: import
      type: string[]
    - name: enum
      type: enum
    - name: data
      type: data
    - name: model
      type: model
---
data:
  name: enum
  fields:
    - name: name
      type: string
    - name: values
      type: string[]
  required:
    - name
    - values
---
data:
  name: Scenario
  fields:
    - name: scenario
      type: string
    - name: tags
      type: string[]
    - name: given
      type: string[]
    - name: when
      type: string[]
    - name: then
      type: string[]
  required:
    - scenario
    - when
    - then
---
enum:
  name: BehaviorType
  values:
    - pub-sub
    - request-response
    - command
    - startup
---
enum:
  name: Primitives
  values:
    - string
    - int
    - number
    - bool
    - date
    - file
---  
data:
  name: Field
  fields:
    - name: name
      type: string
    - name: type
      type: string
  required:
    - name
    - type
---
data:
  name: data
  fields:
    - name: name
      type: string
    - name: fields
      type: Field[]
    - name: required
      type: string[]
  required:
    - name
    - fields
---
data:
  name: Behavior
  fields:
    - name: name
      type: string
    - name: type
      type: BehaviorType
    - name: description
      type: string
    - name: tags
      type: string[]
    - name: input
      type: Field[]
    - name: output
      type: Field[]
    - name: acceptance
      type: Scenario[]
  required:
    - name
    - type
    - acceptance
      
---
data:
  name: model
  fields:
    - name: name
      type: string
    - name: description
      type: string
    - name: uses
      type: Field[]
    - name: behavior
      type: Behavior[]
  required:
    - name
    - behavior